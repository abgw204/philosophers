FLAGS = -Wall -Wextra -Werror

CC = cc

SRC_DIR = src

FILES =	$(SRC_DIR)/clean.c \
		$(SRC_DIR)/get_and_set.c \
		$(SRC_DIR)/isleep.c \
		$(SRC_DIR)/monitor_function.c \
		$(SRC_DIR)/philo_utils.c \
		$(SRC_DIR)/utils.c \
		$(SRC_DIR)/eat_sleep_think.c \
		$(SRC_DIR)/gettime.c \
		$(SRC_DIR)/parsing.c \
		$(SRC_DIR)/table_utils.c \
		$(SRC_DIR)/write_status.c
 
OBJS = $(FILES:.c=.o)

LIB = philo.a

NAME = philo

.c.o:
	@$(CC) $(FLAGS) -c $< -o $(<:.c=.o)

all: $(NAME)

$(NAME): $(OBJS)
	ar -rc $(LIB) $(OBJS)
	@$(CC) $(FLAGS) philo.c $(LIB) -o $(NAME)
	@echo "\033[40;40m░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\033[0m"
	@echo "\033[40;40m░░░░░░░▄▄▀▀▀▀▀▀▀▀▀▀▄▄█▄░░░░▄░░░░█░░░░░░░\033[0m"
	@echo "\033[40;40m░░░░░░█▀░░░░░░░░░░░░░▀▀█▄░░░▀░░░░░░░░░▄░\033[0m"
	@echo "\033[40;40m░░░░▄▀░░░░░░░░░░░░░░░░░▀██░░░▄▀▀▀▄▄░░▀░░\033[0m"
	@echo "\033[40;40m░░▄█▀▄█▀▀▀▀▄░░░░░░▄▀▀█▄░▀█▄░░█▄░░░▀█░░░░\033[0m"
	@echo "\033[40;40m░▄█░▄▀░░▄▄▄░█░░░▄▀▄█▄░▀█░░█▄░░▀█░░░░█░░░\033[0m"
	@echo "\033[40;40m▄█░░█░░░▀▀▀░█░░▄█░▀▀▀░░█░░░█▄░░█░░░░█░░░\033[0m"
	@echo "\033[40;40m██░░░▀▄░░░▄█▀░░░▀▄▄▄▄▄█▀░░░▀█░░█▄░░░█░░░\033[0m"
	@echo "\033[40;40m██░░░░░▀▀▀░░░░░░░░░░░░░░░░░░█░▄█░░░░█░░░\033[0m"
	@echo "\033[40;40m██░░░░░░░░░░░░░░░░░░░░░█░░░░██▀░░░░█▄░░░\033[0m"
	@echo "\033[40;40m██░░░░░░░░░░░░░░░░░░░░░█░░░░█░░░░░░░▀▀█▄\033[0m"
	@echo "\033[40;40m██░░░░░░░░░░░░░░░░░░░░█░░░░░█░░░░░░░▄▄██\033[0m"
	@echo "\033[40;40m░██░░░░░░░░░░░░░░░░░░▄▀░░░░░█░░░░░░░▀▀█▄\033[0m"
	@echo "\033[40;40m░▀█░░░░░░█░░░░░░░░░▄█▀░░░░░░█░░░░░░░▄▄██\033[0m"
	@echo "\033[40;40m░▄██▄░░░░░▀▀▀▄▄▄▄▀▀░░░░░░░░░█░░░░░░░▀▀█▄\033[0m"
	@echo "\033[40;40m░░▀▀▀▀░░░░░░░░░░░░░░░░░░░░░░█▄▄▄▄▄▄▄▄▄██\033[0m"
	@echo "\033[40;40m░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\033[0m"
	@echo "\033[46mPhilosopher's dinner was created successfully!\033[0m"
clean:
	@rm -f $(OBJS) $(LIB)
fclean:
	@rm -f $(OBJS) $(LIB) $(NAME)
re: fclean all